var customSearch;!function(t){"use strict";const a=70;function o(e,o){o=o||a;const n=e.href?t(e.getAttribute("href")):t(e);t("html, body").animate({scrollTop:n.offset().top-o},400)}t(function(){var n;!function(){if(!window.subData)return;const e=t("header .wrapper"),a=t(".s-comment",e),n=t(".s-toc",e),c=t(".s-top",e);e.find(".nav-sub .logo").text(window.subData.title);let r=document.body.scrollTop;t(document,window).scroll(()=>{const a=t(window).scrollTop(),o=a-r;o>=50&&a>100?(r=a,e.addClass("sub")):o<=-50&&(r=a,e.removeClass("sub"))});const i=t("#comments");i.length?a.click(e=>{e.preventDefault(),e.stopPropagation(),o(i)}):a.remove();const s=t(".toc-wrapper");s.length&&s.children().length?n.click(e=>{e.stopPropagation(),s.toggleClass("active")}):n.remove(),c.click(()=>o(document.body))}(),function(){var e=t("header .menu");e.find("li a.active").removeClass("active");var a,o=location.pathname.replace(/\/|%/g,"");0==o.length&&(o="home");var n=o.match(/page\d{0,}$/g);n&&(n=n[0],o=o.split(n)[0]);var c,r=o.match(/index.html/);r&&(r=r[0],o=o.split(r)[0]),a=t("#"+o,e),(c=a)&&c.length&&c.addClass("active").siblings().removeClass("active")}(),(n=t(".l_header .switcher .s-menu")).click(function(e){e.stopPropagation(),t("body").toggleClass("z_menu-open"),n.toggleClass("active")}),t(document).click(function(e){t("body").removeClass("z_menu-open"),n.removeClass("active")}),function(){var a=t(".l_header .switcher .s-search"),o=t(".l_header"),n=t(".l_header .m_search");0!==a.length&&(a.click(function(e){e.stopPropagation(),o.toggleClass("z_search-open"),n.find("input").focus()}),t(document).click(function(e){o.removeClass("z_search-open")}),n.click(function(e){e.stopPropagation()}),o.ready(function(){o.bind("keydown",function(t){if(9==t.keyCode)return!1;var a,o,n=!!document.all;n?(a=window.event.keyCode,o=window.event):(a=e.which,o=e),9==a&&(n?(o.keyCode=0,o.returnValue=!1):(o.which=0,o.preventDefault()))})}))}(),function(){const e=t(".toc-wrapper");if(0===e.length)return;t(document).click(()=>e.removeClass("active")),e.on("click","a",t=>{t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName?o(t.target):"SPAN"===t.target.tagName&&o(t.target.parentElement),e.removeClass("active")});const n=Array.from(e.find("li a")),c=()=>n.map(e=>Math.floor(t(e.getAttribute("href")).offset().top-a));let r=c();const i=()=>{const e=t("html").scrollTop()||t("body").scrollTop();if(!r)return;let a,o=0,c=r.length-1;for(;o<c;)r[a=o+c+1>>1]===e?o=c=a:r[a]<e?o=a:c=a-1;t(n).removeClass("active").eq(o).addClass("active")};t(window).resize(()=>{r=c(),i()}).scroll(()=>{i()}),i()}(),setTimeout(function(){t("#loading-bar-wrapper").fadeOut(500)},300),"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/images/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/images/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/images/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/images/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/images/"}))})}(jQuery);