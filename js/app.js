var customSearch;!function(t){"use strict";var o=80;const a=t(".l_header",".cover-wrapper");function n(e,a){a=a||o;const n=e.href?t(e.getAttribute("href")):t(e);t("html, body").animate({scrollTop:n.offset().top-a},400)}a[0]&&(o=a[0].clientHeight+16),t(function(){var c;!function(){if(!window.subData)return;const e=t("header .wrapper"),o=t(".s-comment",e),a=t(".s-toc",e);e.find(".nav-sub .logo").text(window.subData.title);let c=document.body.scrollTop;t(document,window).scroll(()=>{const o=t(window).scrollTop(),a=o-c;a>=50&&o>100?(c=o,e.addClass("sub")):a<=-50&&(c=o,e.removeClass("sub"))});const s=t("#comments");s.length?o.click(e=>{e.preventDefault(),e.stopPropagation(),n(s)}):o.remove();const r=t(".toc-wrapper");r.length&&r.children().length?a.click(e=>{e.stopPropagation(),r.toggleClass("active")}):a.remove()}(),function(){var e=t("body .navgation");e.find("li a.active").removeClass("active");var o,a=location.pathname.replace(/\/|%/g,"");0==a.length&&(a="home");var n=a.match(/page\d{0,}$/g);n&&(n=n[0],a=a.split(n)[0]);var c,s=a.match(/index.html/);s&&(s=s[0],a=a.split(s)[0]),o=t("#"+a,e),(c=o)&&c.length&&c.addClass("active").siblings().removeClass("active")}(),(c=t(".l_header .switcher .s-menu")).click(function(e){e.stopPropagation(),t("body").toggleClass("z_menu-open"),c.toggleClass("active")}),t(document).click(function(e){t("body").removeClass("z_menu-open"),c.removeClass("active")}),function(){var o=t(".l_header .switcher .s-search"),a=t(".l_header"),n=t(".l_header .m_search");0!==o.length&&(o.click(function(e){e.stopPropagation(),a.toggleClass("z_search-open"),n.find("input").focus()}),t(document).click(function(e){a.removeClass("z_search-open")}),n.click(function(e){e.stopPropagation()}),a.ready(function(){a.bind("keydown",function(t){if(9==t.keyCode)return!1;var o,a,n=!!document.all;n?(o=window.event.keyCode,a=window.event):(o=e.which,a=e),9==o&&(n?(a.keyCode=0,a.returnValue=!1):(a.which=0,a.preventDefault()))})}))}(),function(){const e=t(".toc-wrapper");if(0===e.length)return;t(document).click(()=>e.removeClass("active")),e.on("click","a",t=>{t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName?n(t.target):"SPAN"===t.target.tagName&&n(t.target.parentElement),e.removeClass("active")});const a=Array.from(e.find("li a")),c=()=>a.map(e=>Math.floor(t(e.getAttribute("href")).offset().top-o));let s=c();const r=()=>{const e=t("html").scrollTop()||t("body").scrollTop();if(!s)return;let o,n=0,c=s.length-1;for(;n<c;)s[o=n+c+1>>1]===e?n=c=o:s[o]<e?n=o:c=o-1;t(a).removeClass("active").eq(n).addClass("active")};t(window).resize(()=>{s=c(),r()}).scroll(()=>{r()}),r()}(),function(){const e=t(".menu .active"),o=t(".s-top"),c=t("h1.title","#header-meta");console.log(c);const s=t(".l_body");e.length&&s&&e.click(e=>{e.preventDefault(),e.stopPropagation(),n(s)}),c.length&&s&&c.click(e=>{e.preventDefault(),e.stopPropagation(),n(s)}),o.length&&s&&o.click(e=>{e.preventDefault(),e.stopPropagation(),n(s)});const r=t(".cover-wrapper");var l=0;r[0]&&(l=r[0].clientHeight-64),console.log(l);var i=document.body.scrollTop;t(document,window).scroll(()=>{const e=t(window).scrollTop(),n=e-i;i=e,e>150?(o.addClass("show"),n>0?o.removeClass("hl"):o.addClass("hl")):o.removeClass("show").removeClass("hl"),e>l?a.addClass("show"):a.removeClass("show")})}(),setTimeout(function(){t("#loading-bar-wrapper").fadeOut(500)},300),"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/images/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/images/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/images/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/images/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/images/"}))})}(jQuery);